# 多言語RAG問答システム

## 概要

このプロジェクトは、3つの異なるQAボットを統合したWebアプリケーションです：

1. **シンプルChatGPT** - OpenAI APIを直接使用した基本的な問答ボット
2. **RAGベースQA** - 検索拡張生成（RAG）を使用した高度な問答ボット
3. **多言語RAG** - 翻訳機能を組み込んだ多言語対応RAGボット

## システム構成

```
demo/
├── backend/              # バックエンドロジック
│   ├── config.py        # 設定管理
│   ├── models/          # QAボットモデル
│   │   ├── simple_chatgpt.py
│   │   ├── rag_qabot.py
│   │   └── multilingual_rag.py
│   └── utils/           # ユーティリティ
│       ├── document_processor.py
│       ├── vector_store.py
│       └── translation.py
├── frontend/            # フロントエンド
│   └── app.py          # Streamlit アプリケーション
└── README.md           # このファイル
```

## 必要要件

- Python 3.8以上
- OpenAI API キー

## セットアップ

### 1. 環境変数の設定

`.env`ファイルを作成し、OpenAI APIキーを設定してください：

```env
OPENAI_API_KEY=your_openai_api_key_here
```

### 2. アプリケーションの実行

```bash
bash demo/run.sh
```

## 使用方法

### 1. ボットの選択

左側のサイドバーから使用したいQAボットを選択してください：

- **シンプルChatGPT**: 基本的な問答に適しています
- **RAGベースQA**: 特定のドキュメントに基づいた回答が必要な場合
- **多言語RAG**: 多言語でのドキュメント検索・回答が必要な場合

### 2. ドキュメントの読み込み（RAGボットの場合）

RAGベースのボットを使用する場合：

1. サイドバーの「ドキュメント管理」セクションを確認
2. JSON形式でドキュメントデータを入力
3. 「ドキュメント読み込み」ボタンをクリック

#### JSONデータの例

```json
[
  {
    "title": "AI技術について",
    "content": "人工知能（AI）は、機械学習や深層学習などの技術を用いて、人間の知能を模倣する技術です。"
  },
  {
    "title": "機械学習の基礎",
    "content": "機械学習は、データから自動的にパターンを学習し、予測や分類を行う技術です。"
  }
]
```

### 3. 質問の入力

1. メインエリアの質問入力フォームに質問を入力
2. 「質問を送信」ボタンをクリック
3. 回答とソース情報を確認

## 各ボットの特徴

### シンプルChatGPT
- OpenAI APIを直接使用
- 一般的な質問に対応
- 多言語対応（言語自動検出）

### RAGベースQA
- ドキュメント検索機能
- 文脈に基づいた正確な回答
- ソース情報の提供

### 多言語RAG
- 3つの検索モード：
  - **デュアル検索**: 元の質問と翻訳した質問で検索
  - **翻訳検索**: 質問を英語に翻訳して検索
  - **直接検索**: 質問をそのまま使用
- 多言語ドキュメントの処理
- 質問言語での自動回答

## サポートされる言語

- 日本語 (ja)
- 英語 (en)
- 中国語 (zh)
- 韓国語 (ko)
- スペイン語 (es)
- フランス語 (fr)
- ドイツ語 (de)
- その他

## トラブルシューティング

### OpenAI APIエラー
- 環境変数`OPENAI_API_KEY`が正しく設定されているか確認
- APIキーの有効性を確認

### 依存関係エラー
- 必要なパッケージがインストールされているか確認
- Python バージョンが3.8以上であることを確認

### ドキュメント読み込みエラー
- JSON形式が正しいか確認
- ドキュメントにテキストコンテンツが含まれているか確認

## 開発者向け情報

### コード構造
- **SOLID原則**に従った設計
- **PEP8**準拠のコード
- モジュール化された構造

### 拡張性
- 新しいQAボットの追加が容易
- 設定の変更が簡単
- 翻訳サービスの変更が可能

## ライセンス

MIT License 